'use strict';

module.exports = {
  register: function() {
    sw.client.on('connect', function(err) {
      if (err) throw err;

      sw.client.get('/me', function(data) {
        if (data) {
          sw.profile.setData(data);
          sw.emit('ready');
        }
      });
    });

    sw.client.on('disconnect', function(err) {
      window.location.reload();
    })
    return true;
  },
  unregister: function() {
    sw.client.off('connect');
    sw.client.off('disconnect');
    return true;
  }
};
